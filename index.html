<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generador de Bot â€” Puppycore ðŸ’—</title>

  <!-- Tailwind (no debes instalar nada, funciona solo con este link) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- TipografÃ­a cute -->
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Quicksand', 'Poppins', sans-serif;
      background: linear-gradient(180deg, #ffe6f3, #ffd6f4);
      background-attachment: fixed;
    }
    .card {
      background: rgba(255, 255, 255, 0.65);
      backdrop-filter: blur(12px);
      border-radius: 18px;
      box-shadow: 0 4px 16px rgba(255, 160, 200, 0.3);
      border: 1px solid rgba(255, 180, 220, 0.5);
    }
    .title-gradient {
      background: linear-gradient(90deg, #ff8ac9, #ffacd9);
      -webkit-background-clip: text;
      color: transparent;
    }
  </style>
</head>

<body class="p-6">

  <!-- ENCABEZADO -->
  <h1 class="text-4xl font-bold title-gradient mb-6 text-center">
    Generador de Bot 
  </h1>

  <p class="text-center text-pink-600 mb-10">
    Rellena los campos y crea tu bot.py listo para usar 
  </p>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

    <!-- CONFIG DEL BOT -->
    <div class="card p-5">
      <h2 class="text-xl font-semibold text-pink-500 mb-3">
        ðŸ’ž ConfiguraciÃ³n del Bot
      </h2>

      <label class="text-pink-600">Nombre del bot</label>
      <input id="botName" class="w-full p-2 rounded-md border mb-3" placeholder="ejemplo :3" />

      <label class="text-pink-600">Tipo de actividad</label>
      <select id="activityType" class="w-full p-2 rounded-md border mb-3">
        <option>Playing</option>
        <option>Listening</option>
        <option>Watching</option>
      </select>

      <label class="text-pink-600">Texto de actividad</label>
      <input id="activityText" class="w-full p-2 rounded-md border mb-3" placeholder="bleeeh" />

      <label class="text-pink-600">Estado</label>
      <select id="status" class="w-full p-2 rounded-md border mb-5">
        <option>online</option>
        <option>idle</option>
        <option>dnd</option>
      </select>
    </div>

    <!-- CREAR COMANDOS -->
    <div class="card p-5 col-span-2">
      <h2 class="text-xl font-semibold text-pink-500 mb-3 flex justify-between">
         Crear comandos personalizados
        <button onclick="addCommand()" class="bg-pink-400 text-white px-3 py-1 rounded-lg shadow">
          + Agregar
        </button>
      </h2>

      <div id="commandsContainer"></div>
    </div>
  </div>

  <!-- BOTONES -->
  <div class="flex justify-center gap-4 mt-10">
    <button onclick="generatePreview()" class="bg-white text-pink-600 font-semibold px-4 py-2 rounded-lg shadow card hover:scale-105 transition">
      ðŸŒ¸ Vista previa
    </button>

    <button onclick="downloadBot()" class="bg-pink-500 text-white px-4 py-2 rounded-lg shadow hover:bg-pink-600 hover:scale-105 transition">
      ðŸ’— Descargar bot.py
    </button>
  </div>

  <!-- PREVIEW -->
  <div id="preview" class="card p-5 mt-8 hidden">
    <h2 class="text-xl font-semibold text-pink-500 mb-3">âœ¨ Vista previa del bot</h2>
    <pre id="previewCode" class="whitespace-pre-wrap text-sm"></pre>
  </div>


<script>
// ---------------- //
//   FUNCIONES JS   //
// ---------------- //

let commandCount = 0;

// Agregar comando
function addCommand() {
  commandCount++;

  const container = document.getElementById("commandsContainer");

  const div = document.createElement("div");
  div.className = "card p-4 mb-4";
  div.id = `cmd_${commandCount}`;

  div.innerHTML = `
    <label class="text-pink-600">Nombre del comando (sin /)</label>
    <input class="w-full p-2 rounded-md border mb-3 cmd-name" placeholder="hug" />

    <label class="text-pink-600">DescripciÃ³n</label>
    <input class="w-full p-2 rounded-md border mb-3 cmd-desc" placeholder="dar un abrazooo" />

    <label class="text-pink-600">Mensaje</label>
    <input class="w-full p-2 rounded-md border mb-3 cmd-msg" placeholder="{{autor}} abraza a {{usuario}}!!!!   ;P" />

    <label class="text-pink-600">GIFs (separados por coma)</label>
    <input class="w-full p-2 rounded-md border mb-3 cmd-gifs" placeholder="https://gif1.com , https://gif2.com" />

    <button onclick="removeCommand('${div.id}')" class="bg-red-400 text-white px-3 py-1 rounded-lg">
      Eliminar comando
    </button>
  `;

  container.appendChild(div);
}

// Eliminar comando
function removeCommand(id) {
  document.getElementById(id).remove();
}

// Generar el cÃ³digo del bot
function generateBotCode() {
  let name = document.getElementById("botName").value || "MiBot";
  let actType = document.getElementById("activityType").value;
  let actText = document.getElementById("activityText").value || "";
  let status = document.getElementById("status").value;

  let code = `import disnake
from disnake.ext import commands

intents = disnake.Intents.default()
intents.message_content = True

bot = commands.InteractionBot(intents=intents)

@bot.event
async def on_ready():
    await bot.change_presence(
        activity=disnake.Activity(
            type=disnake.ActivityType.${actType.toLowerCase()},
            name="${actText}"
        ),
        status=disnake.Status.${status}
    )
    print(f"{bot.user} listo!")
`;

  // Comandos
  const commands = document.querySelectorAll("#commandsContainer > div");

  commands.forEach(cmd => {
    const name = cmd.querySelector(".cmd-name").value;
    const desc = cmd.querySelector(".cmd-desc").value;
    const msg = cmd.querySelector(".cmd-msg").value;
    const gifs = cmd.querySelector(".cmd-gifs").value.split(",");

    code += `
@bot.slash_command(description="${desc}")
async def ${name}(inter, usuario: disnake.Member = None):
    import random
    gifs = ${JSON.stringify(gifs)}
    gif = random.choice(gifs).strip()
    text = f"${msg}".replace("{{autor}}", inter.author.display_name).replace("{{usuario}}", usuario.display_name if usuario else "")
    embed = disnake.Embed(description=text, color=disnake.Color.from_rgb(255, 105, 180))
    embed.set_image(url=gif)
    await inter.response.send_message(embed=embed)
`;
  });

  code += `

# Reemplaza TU_TOKEN_AQUI por el token de tu bot
bot.run("TU_TOKEN_AQUI")`;

  return code;
}

// Mostrar vista previa
function generatePreview() {
  document.getElementById("preview").classList.remove("hidden");
  document.getElementById("previewCode").textContent = generateBotCode();
}

// Descargar bot.py
function downloadBot() {
  const code = generateBotCode();
  const blob = new Blob([code], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "bot.py";
  a.click();
}
</script>

</body>
</html>
